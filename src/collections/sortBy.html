<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />       
        <title>Dissecting Underscore,  Underscore Explained</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

    </head>

    <body>    	    


    	<!-- @@@@@@@@@  THIS CODE IS FOR DISPLAY PURPOSE, UPDATE ONLY WHEN REAL CODE IS UPDATES ==== -->
    	
    	<pre>
    		_.sortBy(list, iteratee, [context]) 
    	</pre>

    	<pre class="">
    		_.sortBy([1, 2, 3, 4, 5, 6], function(num){ return Math.sin(num); });
		=> [5, 4, 6, 3, 1, 2]

		var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
		_.sortBy(stooges, 'name');
		=> [{name: 'curly', age: 60}, {name: 'larry', age: 50}, {name: 'moe', age: 40}];
		</pre>

		<div class="my_solution">
			My Solution:
		</div>
		
		<div class="note">
			<b>NOTE:  My Solution Only works if numbers are used for sorting, Feel free to take this code as sample and modify to achieve string sorting as well</b>
		</div>

    	<pre class="js">    		

	    	var array = [4, 5, 6];
    		var stooges = [
                {name: 'moe', age: 40, test : [{name : 'sam'}]}, 
                {name: 'larry', age: 50}, 
                {name: 'curly', age: 60}
            ];
			

			//passing array/array of objects , function, and Context
			function sortBy(list, func, context){								
				var result;
				var resultArray = [];

				//Javascript Sort method to sort numbers

				//Rememeber we are going to sort list based on values which functionCallback will return, 
				// SO we do simple number sort on list , but instead of comparing list values , we will be comparing function Values returned by callback method
				resultArray = list.sort(function(a, b){
					
					var _a, _b;

					if(context === void 0){
						if(func.constructor === Function){
							_a = func(a);						
							_b = func(b);						
						}else if(func.constructor === String){
							_a = a[func];
							_b = b[func];
						}
					}else{
						if(func.constructor === Function){
							//passing context
							_a = func.call(context, a);
							_b = func.call(context, b);
						}else if(func.constructor === String){
							//passing context
							_a = context[a][func];
							_b = context[b][func];
						}
					}
					return _a - _b;	//if negetive pick a , if positive pick b, this will sort list using function Values
				});

				return resultArray;
			}


			function callbackFunc(num){				
				return Math.sin(num);
			}


			//Calling Method and show output by passing Array								
			$(".outputArray output").append(sortBy(array, callbackFunc).toString());


			//Calling Method and Show Output by passing Object						
			$(".outputObject output").append(JSON.stringify(sortBy(stooges, "age")));
    	</pre>

    	<!-- @@@@@@@@@@@@@@@@@@@@@@ @@@@@@@@@@@@@@@@@@@@@@@ -->



    	<section class="outputArray">
    		<strong>Output for Array:</strong>
    		<output>
    		</output>
		</section>

		<br><br>
		
		<section class="outputObject">
    		<strong>Output for Array of Objects :</strong>
    		<output>
    		</output>
		</section>
		
		<br><br>


		<div class="row">	
			<div class="span9 columns">    
				<h2>Comments Section</h2>
			    <p>Feel free to comment on the post but keep it clean and on topic.</p>	
				<div id="disqus_thread"></div>
				<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			</div>
		</div>

		

    	<script>    		
    		var array = [4, 5, 6];
    		var stooges = [
                {name: 'moe', age: 40, test : [{name : 'sam'}]}, 
                {name: 'larry', age: 50}, 
                {name: 'curly', age: 60}
            ];
			

			//passing array/array of objects , function, and Context
			function sortBy(list, func, context){								
				var result;
				var resultArray = [];

				//Javascript Sort method to sort numbers

				//Rememeber we are going to sort list based on values which functionCallback will return, 
				// SO we do simple number sort on list , but instead of comparing list values , we will be comparing function Values returned by callback method
				resultArray = list.sort(function(a, b){
					
					var _a, _b;

					if(context === void 0){
						if(func.constructor === Function){
							_a = func(a);						
							_b = func(b);						
						}else if(func.constructor === String){
							_a = a[func];
							_b = b[func];
						}
					}else{
						if(func.constructor === Function){
							//passing context
							_a = func.call(context, a);
							_b = func.call(context, b);
						}else if(func.constructor === String){
							//passing context
							_a = context[a][func];
							_b = context[b][func];
						}
					}
					return _a - _b;	//if negetive pick a , if positive pick b, this will sort list using function Values
				});

				return resultArray;
			}


			function callbackFunc(num){				
				return Math.sin(num);
			}


			//Calling Method and show output by passing Array								
			$(".outputArray output").append(sortBy(array, callbackFunc).toString());


			//Calling Method and Show Output by passing Object						
			$(".outputObject output").append(JSON.stringify(sortBy(stooges, "age")));

    	</script>

    	<script>
			$( "body" ).scrollTop( 0 );
			    	
    		/* * * CONFIGURATION VARIABLES * * */
		    var disqus_shortname = 'harshpandya';		    
		    /* * * DON'T EDIT BELOW THIS LINE * * */		    			
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);	        
	        DISQUS.reset({
			  reload: true,
			  config: function () {  
			    this.page.identifier = window.location.hash.replace("#", "");
			    this.page.url = window.location.href.replace("#", "#!");
			  }
			});


    		//CODE HIGHLIGHTER
    		//http://steamdev.com/snippet/  for themes

    		$("pre.js").snippet("javascript",appConfig.jsConfig);
			$("pre.htmlCode").snippet("html",appConfig.htmlConfig);
			$("pre.styles").snippet("css",appConfig.styleConfig);
    	</script>
    </body>
</html>
